{"version":3,"sources":["../../lib/helpers.js","ApiKeys.js","../../lib/anti-phishing.js","snippets/CheckContract.js","snippets/CheckApprove.js","../../lib/uniswap-abi.js","../../lib/erc20-abi.js","../../lib/erc20-helpers.js","../../lib/uniswap.js","snippets/UniswapLoss.js","App.js","serviceWorker.js","index.js"],"names":["sleep","milis","a","Promise","resolve","setTimeout","daysAgo","timestampSec","secDelta","Date","getTime","parseInt","Math","round","timestampNow","fetchJson","url","fetch","res","json","ApiKeysContext","React","createContext","useApiKeys","useContext","checkContract","web3","ethscn","address","hexData","Address","PublishedAbi","SourceCodeUrl","DeployedDaysAgo","NumTx","NumTxHaveMore","NumTxInLast24Hours","TxListUrl","TxStats","Tx100DaysAgo","Tx1000DaysAgo","EthSpentOnGas","DifferentAddresses","MethodCall","abiReq","status","result","abi","JSON","parse","firstTxs","lastTxs","length","to","input","timeStamp","_","some","tx","toLowerCase","Error","before24h","reduce","sum","gasUsed","gasPrice","uniqBy","from","getStatsPerMethod","decodeHexData","checkApprove","inputs","internalType","name","type","outputs","stateMutability","txs","total","sumPerMethod","decoder","InputDataDecoder","decoded","decodeData","method","mapValues","Method","Args","i","names","types","rawValue","value","toString","eq","BN","utils","toChecksumAddress","Name","Type","Value","isContract","Contract","eth","getCode","Snippet","useState","setInput","setResult","loading","setLoading","handleChange","_e","handleSubmit","Container","textAlign","Segment","secondary","style","width","margin","Form","onSubmit","spellcheck","Input","label","placeholder","onChange","TextArea","Button","primary","stringify","uniswapPairAbi","payable","anonymous","indexed","constant","erc20Abi","getTokenData","coingecko","methods","decimals","call","Decimals","Symbol","symbol","toUpperCase","CurrentPriceUSD","BigNumber","market_data","current_price","usd","CurrentPriceBTC","btc","CurrentPriceETH","uint256ToBigNumber","amount","tokenData","dividedBy","mintEventTopic0","burnEventTopic0","lpPosition","fromBlock","toBlock","pair","lp","Tokens","LiquidityChanges","SumLpTokens","SumTokenDeposits","AvailableTokensToWithdraw","undefined","TotalWorth","AvailableAfterRebalance","pairContract","token0","token1","getPastEvents","filter","addEvents","push","map","transactionHash","blockNumber","returnValues","BlockNumber","TxHash","LpTokenDelta","SumLpTokensAfter","TokenDepositDelta","removeEvents","negated","sort","b","change","getTransactionReceipt","receipt","logs","log","topics","inputsAbi","find","en","decodeLog","data","drop","amount0","amount1","plus","totalSupply","totalSupplyLpTokens","fractionOfPool","getReserves","reserves","token0Reserve","_reserve0","token1Reserve","_reserve1","multipliedBy","calcWorth","rebalance","amountArray","tokenDataArray","currentPriceField","worth0","worth1","identicalIndex","targetAmount","diffInOtherToken","minus","Group","widths","fluid","App","ApiKeys","Provider","endpoint","Web3","basename","className","Menu","inverted","Item","exact","path","component","CheckContract","CheckApprove","UniswapLoss","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.ca1435a7.chunk.js","sourcesContent":["import fetch from \"node-fetch\";\nimport Web3 from \"web3\";\n\nexport function getWeb3(endpoint) {\n  return new Web3(endpoint);\n}\n\nexport async function sleep(milis) {\n  return new Promise((resolve) => setTimeout(resolve, milis));\n}\n\nexport function daysAgo(timestampSec) {\n  const secDelta = new Date().getTime() / 1000 - parseInt(timestampSec);\n  return Math.round((10 * secDelta) / (24 * 60 * 60)) / 10;\n}\n\nexport function timestampNow() {\n  return Math.round(new Date().getTime() / 1000);\n}\n\nexport async function fetchJson(url) {\n  const res = await fetch(url);\n  return await res.json();\n}\n","import React, { useContext } from \"react\";\n\nconst ApiKeysContext = React.createContext({});\n\nexport function useApiKeys() {\n  return useContext(ApiKeysContext);\n}\n\nexport default ApiKeysContext;\n","import _ from \"lodash\";\nimport BN from \"bn.js\";\nimport InputDataDecoder from \"ethereum-input-data-decoder\";\nimport { fetchJson, daysAgo, timestampNow, sleep } from \"./helpers\";\n\nconst MIN_CONTRACT_CODE_SIZE = 20;\n\n// takes a contract and method call and performs due diligence over both to protect against phishing\n// web3 - initialized web3 instance used for read only\n// ethscn - etherscan.io API key (string)\n// address - the address of the contract (0x string)\n// hexData - the encoded input data to the transaction (0x string)\nexport async function checkContract({ web3, ethscn, address, hexData }) {\n  const res = {\n    Address: address,\n    PublishedAbi: false,\n    SourceCodeUrl: \"\",\n    DeployedDaysAgo: 0,\n    NumTx: 0,\n    NumTxHaveMore: false,\n    NumTxInLast24Hours: 0,\n    TxListUrl: \"\",\n    TxStats: {},\n    Tx100DaysAgo: 0,\n    Tx1000DaysAgo: 0,\n    EthSpentOnGas: 0,\n    DifferentAddresses: 0,\n    MethodCall: {},\n  };\n\n  // abi\n  let abi;\n  const abiReq = await fetchJson(\n    `https://api.etherscan.io/api?module=contract&action=getabi&address=${address}&apikey=${ethscn}`\n  );\n  if (abiReq.status === \"1\" && abiReq.result) {\n    abi = JSON.parse(abiReq.result);\n    res.PublishedAbi = true;\n    res.SourceCodeUrl = `https://etherscan.io/address/${address}#code`;\n  }\n\n  // transactions\n  res.TxListUrl = `https://etherscan.io/txs?a=${address}`;\n  const firstTxs = await fetchJson(\n    `https://api.etherscan.io/api?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&sort=asc&apikey=${ethscn}`\n  );\n  const lastTxs = await fetchJson(\n    `https://api.etherscan.io/api?module=account&action=txlist&address=${address}&startblock=0&endblock=99999999&sort=desc&apikey=${ethscn}`\n  );\n  if (\n    firstTxs.status === \"1\" &&\n    firstTxs.result &&\n    firstTxs.result.length > 0 &&\n    lastTxs.status === \"1\" &&\n    lastTxs.result &&\n    lastTxs.result.length > 0\n  ) {\n    if (firstTxs.result[0].to === \"\" && firstTxs.result[0].input.length > MIN_CONTRACT_CODE_SIZE) {\n      res.DeployedDaysAgo = daysAgo(firstTxs.result[0].timeStamp);\n    }\n    if (\n      _.some(firstTxs.result, (tx) => tx.to !== \"\" && tx.to !== address.toLowerCase()) ||\n      _.some(firstTxs.result, (tx) => tx.to !== \"\" && tx.to !== address.toLowerCase())\n    ) {\n      throw new Error(\"Address is not destination of all transactions, is this a contract?\");\n    }\n    if (firstTxs.result.length < 10000 && lastTxs.result.length < 10000) {\n      res.NumTx = firstTxs.result.length;\n      res.NumTxHaveMore = false;\n    } else {\n      res.NumTx = 10000;\n      res.NumTxHaveMore = true;\n    }\n    if (firstTxs.result.length > 100) {\n      res.Tx100DaysAgo = daysAgo(firstTxs.result[100].timeStamp);\n    }\n    if (firstTxs.result.length > 1000) {\n      res.Tx1000DaysAgo = daysAgo(firstTxs.result[1000].timeStamp);\n    }\n    const before24h = timestampNow() - 24 * 60 * 60;\n    res.NumTxInLast24Hours = _.reduce(\n      lastTxs.result,\n      (sum, tx) => sum + (parseInt(tx.timeStamp) > before24h ? 1 : 0),\n      0\n    );\n    res.EthSpentOnGas = _.reduce(\n      lastTxs.result,\n      (sum, tx) => sum + parseInt(tx.gasUsed) * (parseInt(tx.gasPrice) / 1e18),\n      0\n    );\n    res.DifferentAddresses = _.uniqBy(lastTxs.result, (tx) => tx.from.toLowerCase()).length;\n    res.EthSpentOnGas = Math.round(res.EthSpentOnGas * 1000) / 1000;\n    if (abi) res.TxStats = getStatsPerMethod(abi, lastTxs.result);\n  }\n\n  // hex data\n  if (hexData && abi) res.MethodCall = await decodeHexData(web3, ethscn, abi, hexData);\n  else delete res.MethodCall;\n\n  return res;\n}\n\n// takes input for an ERC20 Approve action and performs due diligence over it to protect against phishing\n// web3 - initialized web3 instance used for read only\n// ethscn - etherscan.io API key (string)\n// hexData - the encoded input data to the transaction (0x string)\nexport async function checkApprove({ web3, ethscn, hexData }) {\n  const res = {\n    MethodCall: {},\n  };\n\n  const abi = [\n    {\n      inputs: [\n        { internalType: \"address\", name: \"spender\", type: \"address\" },\n        { internalType: \"uint256\", name: \"amount\", type: \"uint256\" },\n      ],\n      name: \"approve\",\n      outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n      stateMutability: \"nonpayable\",\n      type: \"function\",\n    },\n  ];\n  res.MethodCall = await decodeHexData(web3, ethscn, abi, hexData);\n\n  return res;\n}\n\nfunction getStatsPerMethod(abi, txs) {\n  let total = 0;\n  const sumPerMethod = {};\n  const decoder = new InputDataDecoder(abi);\n  for (const tx of txs) {\n    const decoded = decoder.decodeData(tx.input);\n    if (!decoded.method) continue;\n    if (!sumPerMethod[decoded.method]) sumPerMethod[decoded.method] = 0;\n    sumPerMethod[decoded.method]++;\n    total++;\n    if (total > 1000) break;\n  }\n  return _.mapValues(sumPerMethod, (sum) => Math.round((100 * 100 * sum) / total) / 100);\n}\n\nasync function decodeHexData(web3, ethscn, abi, hexData) {\n  const decoder = new InputDataDecoder(abi);\n  const decoded = decoder.decodeData(hexData);\n  const res = {\n    Method: decoded.method,\n    Args: [],\n  };\n  for (let i = 0; i < decoded.names.length; i++) {\n    const name = decoded.names[i];\n    const type = decoded.types[i];\n    const rawValue = decoded.inputs[i];\n    let value = rawValue.toString();\n    if (\n      type === \"uint256\" &&\n      rawValue.eq(new BN(\"ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\", 16))\n    ) {\n      value = \"unlimited\";\n    }\n    if (type === \"address\") {\n      value = web3.utils.toChecksumAddress(value);\n    }\n    res.Args[i] = {\n      Name: name,\n      Type: type,\n      Value: value,\n    };\n    if (type === \"address\" && (await isContract(web3, value))) {\n      await sleep(1100); // don't stress etherscan api\n      res.Args[i].Contract = await checkContract({\n        web3,\n        ethscn,\n        address: value,\n      });\n    }\n  }\n  return res;\n}\n\nasync function isContract(web3, address) {\n  const res = await web3.eth.getCode(address);\n  return res.length > MIN_CONTRACT_CODE_SIZE;\n}\n","import React, { useState } from \"react\";\nimport { Container, Segment, Form } from \"semantic-ui-react\";\nimport { checkContract } from \"web3-snippets/anti-phishing\";\nimport { useApiKeys } from \"../ApiKeys\";\n\nfunction Snippet() {\n  const { web3, ethscn } = useApiKeys();\n  const [input, setInput] = useState({});\n  const [result, setResult] = useState();\n  const [loading, setLoading] = useState(false);\n  const handleChange = (_e, { name, value }) => setInput({ ...input, [name]: value });\n  const handleSubmit = async () => {\n    const { address, hexData } = input;\n    setLoading(true);\n    const result = await checkContract({ web3, ethscn, address, hexData });\n    setResult(result);\n    setLoading(false);\n  };\n  return (\n    <div>\n      <h2>Check Contract (Anti-Phishing)</h2>\n      <br />\n      <Container textAlign=\"left\">\n        <Segment textAlign=\"left\" secondary style={{ width: \"50vw\", margin: \"auto\" }}>\n          <Form loading={loading} onSubmit={handleSubmit} spellcheck=\"false\">\n            <Form.Input\n              label=\"Contract Address\"\n              name=\"address\"\n              placeholder=\"0xbD17B1ce622d73bD438b9E658acA5996dc394b0d\"\n              onChange={handleChange}\n            />\n            <Form.TextArea\n              label=\"Method Call Hex Data\"\n              name=\"hexData\"\n              placeholder=\"0x095ea7b3000000000000000000000000...\"\n              onChange={handleChange}\n            />\n            <Form.Button primary>Submit</Form.Button>\n          </Form>\n        </Segment>\n        <pre>{JSON.stringify(result, null, 2)}</pre>\n      </Container>\n    </div>\n  );\n}\n\nexport default Snippet;\n","import React, { useState } from \"react\";\nimport { Container, Segment, Form } from \"semantic-ui-react\";\nimport { checkApprove } from \"web3-snippets/anti-phishing\";\nimport { useApiKeys } from \"../ApiKeys\";\n\nfunction Snippet() {\n  const { web3, ethscn } = useApiKeys();\n  const [input, setInput] = useState({});\n  const [result, setResult] = useState();\n  const [loading, setLoading] = useState(false);\n  const handleChange = (_e, { name, value }) => setInput({ ...input, [name]: value });\n  const handleSubmit = async () => {\n    const { hexData } = input;\n    setLoading(true);\n    const result = await checkApprove({ web3, ethscn, hexData });\n    setResult(result);\n    setLoading(false);\n  };\n  return (\n    <div>\n      <h2>Check Approve (Anti-Phishing)</h2>\n      <br />\n      <Container textAlign=\"left\">\n        <Segment textAlign=\"left\" secondary style={{ width: \"50vw\", margin: \"auto\" }}>\n          <Form loading={loading} onSubmit={handleSubmit} spellcheck=\"false\">\n            <Form.TextArea\n              label=\"Method Call Hex Data\"\n              name=\"hexData\"\n              placeholder=\"0x095ea7b3000000000000000000000000...\"\n              onChange={handleChange}\n            />\n            <Form.Button primary>Submit</Form.Button>\n          </Form>\n        </Segment>\n        <pre>{JSON.stringify(result, null, 2)}</pre>\n      </Container>\n    </div>\n  );\n}\n\nexport default Snippet;\n","export const uniswapPairAbi = [\n  { inputs: [], payable: false, stateMutability: \"nonpayable\", type: \"constructor\" },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"owner\", type: \"address\" },\n      { indexed: true, internalType: \"address\", name: \"spender\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"sender\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount0\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount1\", type: \"uint256\" },\n      { indexed: true, internalType: \"address\", name: \"to\", type: \"address\" },\n    ],\n    name: \"Burn\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"sender\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount0\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount1\", type: \"uint256\" },\n    ],\n    name: \"Mint\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"sender\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount0In\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount1In\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount0Out\", type: \"uint256\" },\n      { indexed: false, internalType: \"uint256\", name: \"amount1Out\", type: \"uint256\" },\n      { indexed: true, internalType: \"address\", name: \"to\", type: \"address\" },\n    ],\n    name: \"Swap\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: false, internalType: \"uint112\", name: \"reserve0\", type: \"uint112\" },\n      { indexed: false, internalType: \"uint112\", name: \"reserve1\", type: \"uint112\" },\n    ],\n    name: \"Sync\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, internalType: \"address\", name: \"from\", type: \"address\" },\n      { indexed: true, internalType: \"address\", name: \"to\", type: \"address\" },\n      { indexed: false, internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"DOMAIN_SEPARATOR\",\n    outputs: [{ internalType: \"bytes32\", name: \"\", type: \"bytes32\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"MINIMUM_LIQUIDITY\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"PERMIT_TYPEHASH\",\n    outputs: [{ internalType: \"bytes32\", name: \"\", type: \"bytes32\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      { internalType: \"address\", name: \"\", type: \"address\" },\n      { internalType: \"address\", name: \"\", type: \"address\" },\n    ],\n    name: \"allowance\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"address\", name: \"spender\", type: \"address\" },\n      { internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n    ],\n    name: \"approve\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [{ internalType: \"address\", name: \"to\", type: \"address\" }],\n    name: \"burn\",\n    outputs: [\n      { internalType: \"uint256\", name: \"amount0\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"amount1\", type: \"uint256\" },\n    ],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [{ internalType: \"uint8\", name: \"\", type: \"uint8\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"factory\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"getReserves\",\n    outputs: [\n      { internalType: \"uint112\", name: \"_reserve0\", type: \"uint112\" },\n      { internalType: \"uint112\", name: \"_reserve1\", type: \"uint112\" },\n      { internalType: \"uint32\", name: \"_blockTimestampLast\", type: \"uint32\" },\n    ],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"address\", name: \"_token0\", type: \"address\" },\n      { internalType: \"address\", name: \"_token1\", type: \"address\" },\n    ],\n    name: \"initialize\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"kLast\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [{ internalType: \"address\", name: \"to\", type: \"address\" }],\n    name: \"mint\",\n    outputs: [{ internalType: \"uint256\", name: \"liquidity\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    name: \"nonces\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"address\", name: \"owner\", type: \"address\" },\n      { internalType: \"address\", name: \"spender\", type: \"address\" },\n      { internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"deadline\", type: \"uint256\" },\n      { internalType: \"uint8\", name: \"v\", type: \"uint8\" },\n      { internalType: \"bytes32\", name: \"r\", type: \"bytes32\" },\n      { internalType: \"bytes32\", name: \"s\", type: \"bytes32\" },\n    ],\n    name: \"permit\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"price0CumulativeLast\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"price1CumulativeLast\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [{ internalType: \"address\", name: \"to\", type: \"address\" }],\n    name: \"skim\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"uint256\", name: \"amount0Out\", type: \"uint256\" },\n      { internalType: \"uint256\", name: \"amount1Out\", type: \"uint256\" },\n      { internalType: \"address\", name: \"to\", type: \"address\" },\n      { internalType: \"bytes\", name: \"data\", type: \"bytes\" },\n    ],\n    name: \"swap\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"symbol\",\n    outputs: [{ internalType: \"string\", name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [],\n    name: \"sync\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"token0\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"token1\",\n    outputs: [{ internalType: \"address\", name: \"\", type: \"address\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [{ internalType: \"uint256\", name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"address\", name: \"to\", type: \"address\" },\n      { internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n    ],\n    name: \"transfer\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { internalType: \"address\", name: \"from\", type: \"address\" },\n      { internalType: \"address\", name: \"to\", type: \"address\" },\n      { internalType: \"uint256\", name: \"value\", type: \"uint256\" },\n    ],\n    name: \"transferFrom\",\n    outputs: [{ internalType: \"bool\", name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n];\n","export const erc20Abi = [\n  {\n    constant: true,\n    inputs: [],\n    name: \"name\",\n    outputs: [{ name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"guy\", type: \"address\" },\n      { name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"approve\",\n    outputs: [{ name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"totalSupply\",\n    outputs: [{ name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"src\", type: \"address\" },\n      { name: \"dst\", type: \"address\" },\n      { name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"transferFrom\",\n    outputs: [{ name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [{ name: \"wad\", type: \"uint256\" }],\n    name: \"withdraw\",\n    outputs: [],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"decimals\",\n    outputs: [{ name: \"\", type: \"uint8\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [{ name: \"\", type: \"address\" }],\n    name: \"balanceOf\",\n    outputs: [{ name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [],\n    name: \"symbol\",\n    outputs: [{ name: \"\", type: \"string\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [\n      { name: \"dst\", type: \"address\" },\n      { name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"transfer\",\n    outputs: [{ name: \"\", type: \"bool\" }],\n    payable: false,\n    stateMutability: \"nonpayable\",\n    type: \"function\",\n  },\n  {\n    constant: false,\n    inputs: [],\n    name: \"deposit\",\n    outputs: [],\n    payable: true,\n    stateMutability: \"payable\",\n    type: \"function\",\n  },\n  {\n    constant: true,\n    inputs: [\n      { name: \"\", type: \"address\" },\n      { name: \"\", type: \"address\" },\n    ],\n    name: \"allowance\",\n    outputs: [{ name: \"\", type: \"uint256\" }],\n    payable: false,\n    stateMutability: \"view\",\n    type: \"function\",\n  },\n  { payable: true, stateMutability: \"payable\", type: \"fallback\" },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"src\", type: \"address\" },\n      { indexed: true, name: \"guy\", type: \"address\" },\n      { indexed: false, name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"Approval\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"src\", type: \"address\" },\n      { indexed: true, name: \"dst\", type: \"address\" },\n      { indexed: false, name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"Transfer\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"dst\", type: \"address\" },\n      { indexed: false, name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"Deposit\",\n    type: \"event\",\n  },\n  {\n    anonymous: false,\n    inputs: [\n      { indexed: true, name: \"src\", type: \"address\" },\n      { indexed: false, name: \"wad\", type: \"uint256\" },\n    ],\n    name: \"Withdrawal\",\n    type: \"event\",\n  },\n];\n","import BigNumber from \"bignumber.js\";\nimport { fetchJson } from \"./helpers\";\nimport { erc20Abi } from \"./erc20-abi\";\n\nexport async function getTokenData(web3, address) {\n  address = web3.utils.toChecksumAddress(address);\n  const coingecko = await fetchJson(`https://api.coingecko.com/api/v3/coins/ethereum/contract/${address}`);\n  const decimals = await new web3.eth.Contract(erc20Abi, address).methods.decimals().call();\n  return {\n    Address: address,\n    Decimals: decimals,\n    Name: coingecko.name,\n    Symbol: coingecko.symbol.toUpperCase(),\n    CurrentPriceUSD: new BigNumber(coingecko.market_data.current_price.usd),\n    CurrentPriceBTC: new BigNumber(coingecko.market_data.current_price.btc),\n    CurrentPriceETH: new BigNumber(coingecko.market_data.current_price.eth),\n  };\n}\n\nexport function uint256ToBigNumber(amount, tokenData) {\n  return new BigNumber(amount).dividedBy(`1e${tokenData.Decimals}`);\n}\n","import _ from \"lodash\";\nimport BigNumber from \"bignumber.js\";\nimport { uniswapPairAbi } from \"./uniswap-abi\";\nimport { getTokenData, uint256ToBigNumber } from \"./erc20-helpers\";\nimport { sleep } from \"./helpers\";\n\nconst mintEventTopic0 = \"0x4c209b5fc8ad50758f13e2e1088ba56a560dff690a1c6fef26394f4c03821c4f\";\nconst burnEventTopic0 = \"0xdccd412f0b1252819cb1fd330b93224ca42612892bb3f4f789976e6d81936496\";\n\n// analyze the current position (impermanent loss) for a liquidity provider (lp) in a uniswap pair\n// web3 - initialized web3 instance used for read only\n// fromBlock - eth block number to start analyzing activity from (use 0 for genesis)\n// toBlock - eth block number to end analyzing activity at (use \"latest\" for most recent)\n// pair - the address of the pair contract (0x string)\n// lp - the address of the liquidity provider (0x string)\nexport async function lpPosition({ web3, fromBlock, toBlock, pair, lp }) {\n  const res = {\n    Tokens: [],\n    LiquidityChanges: [],\n    SumLpTokens: new BigNumber(0),\n    SumTokenDeposits: [new BigNumber(0), new BigNumber(0)],\n    AvailableTokensToWithdraw: [undefined, undefined],\n    TotalWorth: {},\n    AvailableAfterRebalance: [],\n  };\n\n  if (!fromBlock) fromBlock = 0;\n  if (!toBlock) toBlock = \"latest\";\n  fromBlock = parseInt(fromBlock);\n  if (toBlock !== \"latest\") toBlock = parseInt(toBlock);\n\n  const pairContract = new web3.eth.Contract(uniswapPairAbi, pair);\n\n  // token data\n  const token0 = await pairContract.methods.token0().call();\n  res.Tokens[0] = await getTokenData(web3, token0);\n  const token1 = await pairContract.methods.token1().call();\n  res.Tokens[1] = await getTokenData(web3, token1);\n\n  // add remove liquidity events\n  const addEvents = await pairContract.getPastEvents(\"Transfer\", {\n    filter: {\n      from: \"0x0000000000000000000000000000000000000000\",\n      to: lp,\n    },\n    fromBlock,\n    toBlock,\n  });\n  res.LiquidityChanges.push(\n    ...addEvents.map(({ transactionHash, blockNumber, returnValues }) => ({\n      BlockNumber: blockNumber,\n      TxHash: transactionHash,\n      LpTokenDelta: new BigNumber(returnValues.value).dividedBy(\"1e18\"),\n      SumLpTokensAfter: undefined,\n      TokenDepositDelta: [],\n    }))\n  );\n  const removeEvents = await pairContract.getPastEvents(\"Transfer\", {\n    filter: {\n      from: lp,\n      to: pair,\n    },\n    fromBlock,\n    toBlock,\n  });\n  res.LiquidityChanges.push(\n    ...removeEvents.map(({ transactionHash, blockNumber, returnValues }) => ({\n      BlockNumber: blockNumber,\n      TxHash: transactionHash,\n      LpTokenDelta: new BigNumber(returnValues.value).dividedBy(\"1e18\").negated(),\n      SumLpTokensAfter: undefined,\n      TokenDepositDelta: [],\n    }))\n  );\n  res.LiquidityChanges.sort((a, b) => a.BlockNumber - b.BlockNumber);\n\n  // download all receipts for additional logs\n  for (const change of res.LiquidityChanges) {\n    await sleep(200); // don't stress infura api\n    const receipt = await web3.eth.getTransactionReceipt(change.TxHash);\n    for (const log of receipt.logs) {\n      if (log.topics[0].toLowerCase() === mintEventTopic0) {\n        const inputsAbi = _.find(uniswapPairAbi, (en) => en.name === \"Mint\").inputs;\n        const decoded = web3.eth.abi.decodeLog(inputsAbi, log.data, _.drop(log.topics, 1));\n        change.TokenDepositDelta[0] = uint256ToBigNumber(decoded.amount0, res.Tokens[0]);\n        change.TokenDepositDelta[1] = uint256ToBigNumber(decoded.amount1, res.Tokens[1]);\n      }\n      if (log.topics[0].toLowerCase() === burnEventTopic0) {\n        const inputsAbi = _.find(uniswapPairAbi, (en) => en.name === \"Burn\").inputs;\n        const decoded = web3.eth.abi.decodeLog(inputsAbi, log.data, _.drop(log.topics, 1));\n        change.TokenDepositDelta[0] = uint256ToBigNumber(decoded.amount0, res.Tokens[0]).negated();\n        change.TokenDepositDelta[1] = uint256ToBigNumber(decoded.amount1, res.Tokens[1]).negated();\n      }\n    }\n  }\n\n  // sums\n  for (const change of res.LiquidityChanges) {\n    res.SumLpTokens = res.SumLpTokens.plus(change.LpTokenDelta);\n    change.SumLpTokensAfter = new BigNumber(res.SumLpTokens);\n    res.SumTokenDeposits[0] = res.SumTokenDeposits[0].plus(change.TokenDepositDelta[0]);\n    res.SumTokenDeposits[1] = res.SumTokenDeposits[1].plus(change.TokenDepositDelta[1]);\n  }\n\n  // available to withdraw\n  const totalSupply = await pairContract.methods.totalSupply().call();\n  const totalSupplyLpTokens = new BigNumber(totalSupply).dividedBy(\"1e18\");\n  const fractionOfPool = res.SumLpTokens.dividedBy(totalSupplyLpTokens);\n  const reserves = await pairContract.methods.getReserves().call();\n  const token0Reserve = uint256ToBigNumber(reserves._reserve0, res.Tokens[0]);\n  const token1Reserve = uint256ToBigNumber(reserves._reserve1, res.Tokens[1]);\n  res.AvailableTokensToWithdraw[0] = token0Reserve.multipliedBy(fractionOfPool);\n  res.AvailableTokensToWithdraw[1] = token1Reserve.multipliedBy(fractionOfPool);\n\n  // worth\n  res.TotalWorth.SumTokenDeposits = {\n    CurrentPriceUSD: calcWorth(res.SumTokenDeposits, res.Tokens, \"CurrentPriceUSD\"),\n    CurrentPriceBTC: calcWorth(res.SumTokenDeposits, res.Tokens, \"CurrentPriceBTC\"),\n    CurrentPriceETH: calcWorth(res.SumTokenDeposits, res.Tokens, \"CurrentPriceETH\"),\n  };\n  res.TotalWorth.AvailableTokensToWithdraw = {\n    CurrentPriceUSD: calcWorth(res.AvailableTokensToWithdraw, res.Tokens, \"CurrentPriceUSD\"),\n    CurrentPriceBTC: calcWorth(res.AvailableTokensToWithdraw, res.Tokens, \"CurrentPriceBTC\"),\n    CurrentPriceETH: calcWorth(res.AvailableTokensToWithdraw, res.Tokens, \"CurrentPriceETH\"),\n  };\n\n  // rebalance\n  res.AvailableAfterRebalance[0] = rebalance(res.AvailableTokensToWithdraw, res.Tokens, 0, res.SumTokenDeposits[0]);\n  res.AvailableAfterRebalance[1] = rebalance(res.AvailableTokensToWithdraw, res.Tokens, 1, res.SumTokenDeposits[1]);\n\n  return res;\n}\n\nfunction calcWorth(amountArray, tokenDataArray, currentPriceField) {\n  const worth0 = amountArray[0].multipliedBy(tokenDataArray[0][currentPriceField]);\n  const worth1 = amountArray[1].multipliedBy(tokenDataArray[1][currentPriceField]);\n  return worth0.plus(worth1);\n}\n\nfunction rebalance(amountArray, tokenDataArray, identicalIndex, targetAmount) {\n  const res = [];\n  res[identicalIndex] = new BigNumber(targetAmount);\n  const diffInOriginalToken = amountArray[identicalIndex].minus(res[identicalIndex]);\n  const diffInOtherToken = diffInOriginalToken\n    .dividedBy(tokenDataArray[1 - identicalIndex].CurrentPriceUSD)\n    .multipliedBy(tokenDataArray[identicalIndex].CurrentPriceUSD);\n  res[1 - identicalIndex] = amountArray[1 - identicalIndex].plus(diffInOtherToken);\n  return res;\n}\n","import React, { useState } from \"react\";\nimport { Container, Segment, Form } from \"semantic-ui-react\";\nimport { lpPosition } from \"web3-snippets/uniswap\";\nimport { useApiKeys } from \"../ApiKeys\";\n\nfunction Snippet() {\n  const { web3 } = useApiKeys();\n  const [input, setInput] = useState({});\n  const [result, setResult] = useState();\n  const [loading, setLoading] = useState(false);\n  const handleChange = (_e, { name, value }) => setInput({ ...input, [name]: value });\n  const handleSubmit = async () => {\n    const { fromBlock, toBlock, pair, lp } = input;\n    setLoading(true);\n    const result = await lpPosition({ web3, fromBlock, toBlock, pair, lp });\n    setResult(result);\n    setLoading(false);\n  };\n  return (\n    <div>\n      <h2>Uniswap Impermanent Loss</h2>\n      <br />\n      <Container textAlign=\"left\">\n        <Segment textAlign=\"left\" secondary style={{ width: \"50vw\", margin: \"auto\" }}>\n          <Form loading={loading} onSubmit={handleSubmit} spellcheck=\"false\">\n            <Form.Input\n              label=\"Uniswap Pair Contract Address\"\n              name=\"pair\"\n              placeholder=\"0x0d4a11d5EEaaC28EC3F61d100daF4d40471f1852\"\n              onChange={handleChange}\n            />\n            <Form.Input\n              label=\"Liquidity Provider Wallet Address\"\n              name=\"lp\"\n              placeholder=\"0x533D94255aDABE5F9AC7d6755ebCe1e93a00AfC7\"\n              onChange={handleChange}\n            />\n            <Form.Group widths=\"equal\">\n              <Form.Input fluid label=\"From Block\" name=\"fromBlock\" value=\"0\" onChange={handleChange} />\n              <Form.Input fluid label=\"To Block\" name=\"toBlock\" value=\"latest\" onChange={handleChange} />\n            </Form.Group>\n            <Form.Button primary>Submit</Form.Button>\n          </Form>\n        </Segment>\n        <pre>{JSON.stringify(result, null, 2)}</pre>\n      </Container>\n    </div>\n  );\n}\n\nexport default Snippet;\n","import React from \"react\";\nimport { HashRouter, Route, Link } from \"react-router-dom\";\nimport { Menu } from \"semantic-ui-react\";\nimport { getWeb3 } from \"web3-snippets/helpers\";\nimport \"./App.css\";\nimport ApiKeysContext from \"./ApiKeys\";\nimport CheckContract from \"./snippets/CheckContract\";\nimport CheckApprove from \"./snippets/CheckApprove\";\nimport UniswapLoss from \"./snippets/UniswapLoss\";\n\nfunction App() {\n  return (\n    <ApiKeysContext.Provider\n      value={{\n        web3: getWeb3(\"https://mainnet.infura.io/v3/353c79e2252d4c3ba0ffe9feb597d398\"),\n        ethscn: \"H9Q2BDA55J85PISTNG8BDM5IKD4MGTUVW4\",\n      }}\n    >\n      <HashRouter basename=\"/\">\n        <div className=\"App\">\n          <Menu inverted>\n            <Link to=\"/check-contract\">\n              <Menu.Item name=\"Check Contract\" />\n            </Link>\n            <Link to=\"/check-approve\">\n              <Menu.Item name=\"Check Approve\" />\n            </Link>\n            <Link to=\"/uniswap-loss\">\n              <Menu.Item name=\"Uniswap Loss\" />\n            </Link>\n          </Menu>\n          <Route exact path=\"/check-contract\" component={CheckContract} />\n          <Route path=\"/check-approve\" component={CheckApprove} />\n          <Route path=\"/uniswap-loss\" component={UniswapLoss} />\n        </div>\n      </HashRouter>\n    </ApiKeysContext.Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"semantic-ui-css/semantic.min.css\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}